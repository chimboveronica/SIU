/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
if (window.jstiming)
    window.jstiming.load.tick('widgetJsBefore');

if (window.jstiming)
    window.jstiming.load.tick('headEnd');

if (typeof (BLOG_attachCsiOnload) !== 'undefined' && BLOG_attachCsiOnload !== null) {
    window['blogger_templates_experiment_id'] = "templatesV1";
    window['blogger_blog_id'] = '3512129179211407069';
    BLOG_attachCsiOnload('item_');
}
_WidgetManager._Init('//www.blogger.com/rearrange?blogID\x3d3512129179211407069', '//ciudadblogger-jquery.blogspot.com/2014/04/html5-video-player.html', '3512129179211407069');
_WidgetManager._SetDataContext([{'name': 'blog', 'data': {'blogId': '3512129179211407069', 'bloggerUrl': 'http://www.blogger.com', 'title': 'jQuery', 'pageType': 'item', 'postId': '7821267992657967695', 'url': 'http://ciudadblogger-jquery.blogspot.com/2014/04/html5-video-player.html', 'canonicalUrl': 'http://ciudadblogger-jquery.blogspot.com/2014/04/html5-video-player.html', 'canonicalHomepageUrl': 'http://ciudadblogger-jquery.blogspot.com/', 'homepageUrl': 'http://ciudadblogger-jquery.blogspot.com/', 'blogspotFaviconUrl': 'http://ciudadblogger-jquery.blogspot.com/favicon.ico', 'enabledCommentProfileImages': true, 'adultContent': false, 'disableAdSenseWidget': false, 'analyticsAccountNumber': '', 'searchLabel': '', 'searchQuery': '', 'pageName': 'HTML5 video player', 'pageTitle': 'jQuery: HTML5 video player', 'encoding': 'UTF-8', 'locale': 'es', 'localeUnderscoreDelimited': 'es', 'isPrivate': true, 'isMobile': false, 'isMobileRequest': false, 'mobileClass': '', 'isPrivateBlog': false, 'languageDirection': 'ltr', 'feedLinks': '\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42jQuery - Atom\42 href\75\42http://ciudadblogger-jquery.blogspot.com/feeds/posts/default\42 /\76\n\74link rel\75\42alternate\42 type\75\42application/rss+xml\42 title\75\42jQuery - RSS\42 href\75\42http://ciudadblogger-jquery.blogspot.com/feeds/posts/default?alt\75rss\42 /\76\n\74link rel\75\42service.post\42 type\75\42application/atom+xml\42 title\75\42jQuery - Atom\42 href\75\42http://www.blogger.com/feeds/3512129179211407069/posts/default\42 /\76\n\n\74link rel\75\42alternate\42 type\75\42application/atom+xml\42 title\75\42jQuery - Atom\42 href\75\42http://ciudadblogger-jquery.blogspot.com/feeds/7821267992657967695/comments/default\42 /\76\n', 'meTag': '', 'openIdOpTag': '', 'latencyHeadScript': '\74script type\75\42text/javascript\42\76(function() { var b\75window,f\75\42chrome\42,g\75\42tick\42,k\75\42jstiming\42;(function(){function d(a){this.t\75{};this.tick\75function(a,d,c){var e\75void 0!\75c?c:(new Date).getTime();this.t[a]\75[e,d];if(void 0\75\75c)try{b.console.timeStamp(\42CSI/\42+a)}catch(h){}};this[g](\42start\42,null,a)}var a;b.performance\46\46(a\75b.performance.timing);var n\75a?new d(a.responseStart):new d;b.jstiming\75{Timer:d,load:n};if(a){var c\75a.navigationStart,h\75a.responseStart;0\74c\46\46h\76\75c\46\46(b[k].srt\75h-c)}if(a){var e\75b[k].load;0\74c\46\46h\76\75c\46\46(e[g](\42_wtsrt\42,void 0,c),e[g](\42wtsrt_\42,\42_wtsrt\42,h),e[g](\42tbsd_\42,\42wtsrt_\42))}try{a\75null,\nb[f]\46\46b[f].csi\46\46(a\75Math.floor(b[f].csi().pageT),e\46\0460\74c\46\46(e[g](\42_tbnd\42,void 0,b[f].csi().startE),e[g](\42tbnd_\42,\42_tbnd\42,c))),null\75\75a\46\46b.gtbExternal\46\46(a\75b.gtbExternal.pageT()),null\75\75a\46\46b.external\46\46(a\75b.external.pageT,e\46\0460\74c\46\46(e[g](\42_tbnd\42,void 0,b.external.startE),e[g](\42tbnd_\42,\42_tbnd\42,c))),a\46\46(b[k].pt\75a)}catch(p){}})();b.tickAboveFold\75function(d){var a\0750;if(d.offsetParent){do a+\75d.offsetTop;while(d\75d.offsetParent)}d\75a;750\76\75d\46\46b[k].load[g](\42aft\42)};var l\75!1;function m(){l||(l\75!0,b[k].load[g](\42firstScrollTime\42))}b.addEventListener?b.addEventListener(\42scroll\42,m,!1):b.attachEvent(\42onscroll\42,m);\n })();\74/script\076', 'mobileHeadScript': '', 'view': '', 'dynamicViewsCommentsSrc': '//www.blogblog.com/dynamicviews/4224c15c4e7c9321/js/comments.js', 'dynamicViewsScriptSrc': '//www.blogblog.com/dynamicviews/76f25a6f2e06af76', 'plusOneApiSrc': 'https://apis.google.com/js/plusone.js', 'sf': 'n', 'tf': ''}}, {'name': 'skin', 'data': {'vars': {}, 'override': ''}}, {'name': 'view', 'data': {'classic': {'name': 'classic', 'url': '?view\75classic'}, 'flipcard': {'name': 'flipcard', 'url': '?view\75flipcard'}, 'magazine': {'name': 'magazine', 'url': '?view\75magazine'}, 'mosaic': {'name': 'mosaic', 'url': '?view\75mosaic'}, 'sidebar': {'name': 'sidebar', 'url': '?view\75sidebar'}, 'snapshot': {'name': 'snapshot', 'url': '?view\75snapshot'}, 'timeslide': {'name': 'timeslide', 'url': '?view\75timeslide'}}}]);
_WidgetManager._RegisterWidget('_NavbarView', new _WidgetInfo('Navbar1', 'navbar', null, document.getElementById('Navbar1'), {}, 'displayModeFull'));

var video;
var vplaylist;
var vtracks;
var vcurrent;


function init() {
    vcurrent = 0;
    video = $('video');
    vplaylist = $('#vplaylist');
    vtracks = vplaylist.find('li a');
    len = vtracks.length - 1;
    video[0].volume = 1;
    vplaylist.find('a').click(function (e) {
        e.preventDefault();
        link = $(this);
        current = link.parent().index();
        run(link, video[0]);
    });
    video[0].addEventListener('ended', function (e) {
        vcurrent++;
        if (vcurrent > len) {
            vcurrent = 0;
            link = vplaylist.find('a')[0];
        } else {
            link = vplaylist.find('a')[vcurrent];
        }
        run($(link), video[0]);
    });
}
function run(link, player) {
    player.src = link.attr('href');
    par = link.parent();
    par.addClass('active').siblings().removeClass('active');
    video[0].load();
    video[0].play();
}

